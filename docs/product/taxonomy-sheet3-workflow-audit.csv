"Sub-Workflow ID","Parent ID","Name","Legacy ID","Status","User Goal","Blockers","Evidence","Verification Steps","Fix Plan"
"WF-01a","PWF-01","Sign Up / Registration","WF-01","GREEN","New user creates an account and organization","None","app/signup/page.tsx:48","Navigate to /signup, fill form, submit, check email","None"
"WF-01b","PWF-01","Sign In / Sign Out","WF-02","GREEN","User authenticates to access dashboard","None","app/auth/signin/page.tsx:21","Navigate to /auth/signin, enter credentials, submit","None"
"WF-01c","PWF-01","Password Reset","WF-03","GREEN","User resets forgotten password via email link","None","app/auth/forgot-password/page.tsx:20, app/auth/reset-password/page.tsx:33,69","Navigate to forgot-password, enter email, check inbox, reset","None"
"WF-01d","PWF-01","Accept Team Invite","-","GREEN","Invited user joins an existing organization","None","app/auth/accept-invite/page.tsx:42,84","Receive invite email, click link, complete registration","None"
"WF-02a","PWF-02","Create Board","WF-04","GREEN","User creates a new board for a period","None","app/dashboard/boards/page.tsx:255,452","Navigate to /dashboard/boards, click New Board, fill form, submit","None"
"WF-02b","PWF-02","Edit Board Settings","WF-04","GREEN","User modifies board name, dates, or settings","None","components/boards/edit-board-modal.tsx:222","Click board row, edit, save","None"
"WF-02c","PWF-02","View Board with Jobs","WF-05","GREEN","User views all jobs assigned to a board","None","app/dashboard/jobs/page.tsx:179,199","Navigate to /dashboard/jobs, select board from dropdown","None"
"WF-02d","PWF-02","Assign Board Collaborators","-","GREEN","User adds team members to collaborate on a board","None","app/dashboard/boards/page.tsx","Click board, add team member","None"
"WF-02e","PWF-02","Set Board Cadence / Periods","-","GREEN","User selects board cadence during creation","None","components/boards/create-board-modal.tsx:104-111,129,146-158,292-307 (CADENCE_OPTIONS, handleCadenceChange, Board Type dropdown)","Create board: select Board Type (Daily/Weekly/Monthly/Quarterly/Year-End/Ad-Hoc) → auto-calculates periodStart and generates board name. Note: cadence cannot be changed after creation (intentional - would break period logic).","None"
"WF-02f","PWF-02","Mark Board Complete","-","GREEN","User marks board done, triggering snapshots for comparison","None","lib/services/board.service.ts:459-464","Navigate to boards, change status to Complete","None"
"WF-02g","PWF-02","Archive / Restore Board","WF-04","GREEN","User archives old boards or restores them","None","app/dashboard/boards/page.tsx","Click archive icon on board","None"
"WF-02h","PWF-02","Delete Board","WF-04","GREEN","User permanently removes a board","None","app/dashboard/boards/page.tsx:400,416,438,474","Click delete action on board, confirm","None"
"WF-02i","PWF-02","AI Summarize Board Status","-","GREEN","AI generates summary of board completion, risks, and blockers","None","lib/services/board-summary.service.ts, app/api/boards/[id]/ai-summary/route.ts","Call GET /api/boards/[id]/ai-summary - returns summary, risks, recommendations","None"
"WF-02j","PWF-02","Manage Table Column Visibility","-","GREEN","User shows, hides, or reorders system columns in the jobs table view","None","components/jobs/configurable-table/column-header.tsx, app/api/task-instances/column-config/route.ts","Click gear icon in table header → toggle visibility, use arrows to reorder. System columns: Task/Type/Status/Owner/Due Date/Notes/Files/Responses.","None"
"WF-02k","PWF-02","Configure Board Automation","-","GREEN","User enables/disables auto-creation of next period board","None","components/boards/create-board-modal.tsx:134,224,352-357, components/boards/edit-board-modal.tsx:151,173,231,503-508","Create board: toggle 'Auto-create next period'. Edit board: toggle 'When this board completes, automatically create the next period'.","None"
"WF-02l","PWF-02","Auto-Create Next Period Board","-","YELLOW","System should auto-create next period board when period ends","Missing: Inngest cron job to check periodEnd dates and trigger creation","lib/services/board.service.ts:459-474,480-536 (service exists, no scheduler)","CURRENT: Only triggers when user manually marks board COMPLETE. EXPECTED: Should trigger automatically based on periodEnd date (e.g., 1st of month for monthly boards).","Add Inngest cron function: check boards where automationEnabled=true AND periodEnd < now() AND status != COMPLETE, auto-complete board and create next period"
"WF-02m","PWF-02","Copy Tasks to Next Period","-","GREEN","System copies tasks from completed board to new period (empty)","None","lib/services/board.service.ts:541-586","spawnTaskInstancesForNextPeriod() copies: name, description, owner, type, lineageId, collaborators, labels. Does NOT copy: requests, attachments, collection items. TABLE tasks carry forward structuredData as beginning balance.","None"
"WF-03a","PWF-03","Create Generic Job","WF-06","GREEN","User creates a standard job for tracking requests","None","app/dashboard/jobs/page.tsx:376,443,505","Navigate to /dashboard/jobs, click New Job, fill form, submit","None"
"WF-03b","PWF-03","Create Table Job","WF-09","YELLOW","User creates a table-type job with schema definition","No dedicated Create Table Job wizard UI; Schema requires lineage first","app/dashboard/jobs/page.tsx:376, components/jobs/table/data-tab.tsx:116","Create TABLE type job, navigate to Data tab, edit schema","Add Table Job option with inline schema editor"
"WF-03c","PWF-03","Create Reconciliation Job","WF-12","GREEN","User creates a reconciliation job","None","app/dashboard/jobs/[id]/page.tsx, components/jobs/reconciliation-upload-modal.tsx, components/jobs/reconciliation-result-card.tsx","Create RECONCILIATION job, upload 2 files, click Process, view results, export to XLS","None"
"WF-03d","PWF-03","Import / Edit Table Data","WF-10","GREEN","User imports CSV data, edits cells, signs off dataset","None","components/jobs/table/import-modal.tsx:297,328, components/jobs/table/data-tab.tsx:67,135,126,137","Import CSV, edit cell, sign off dataset","None"
"WF-03e","PWF-03","Compare Periods / Variance","WF-11","GREEN","User compares current vs prior period data","None","components/jobs/table/compare-view.tsx:81, lib/services/board.service.ts:459-464","Click Compare tab, view variance data","None"
"WF-03f","PWF-03","Archive / Restore Job","-","GREEN","User archives completed jobs or restores them","None","app/dashboard/jobs/page.tsx","Click archive action on job","None"
"WF-03g","PWF-03","Delete Job","-","GREEN","User permanently removes a job","None","app/dashboard/jobs/page.tsx","Click delete action on job, confirm","None"
"WF-03h","PWF-03","AI Process Reconciliation","-","GREEN","AI compares two Excel files, identifies column matches, produces variance report","None","lib/services/reconciliation-processor.service.ts, app/api/task-instances/[id]/reconciliations/process/route.ts, components/jobs/reconciliation-result-card.tsx","Upload 2 Excel files, click Process, view matched/unmatched counts, discrepancies table, AI summary, export to XLS","None"
"WF-04a","PWF-04","Manage Job Stakeholders","-","GREEN","User assigns external contacts as stakeholders","None","app/dashboard/jobs/[id]/page.tsx","Add stakeholder from contacts","None"
"WF-04b","PWF-04","Manage Job Collaborators","-","GREEN","User adds internal team members to a job","None","app/dashboard/jobs/[id]/page.tsx:559,817,836","Click Add Collaborator, select team member","None"
"WF-04c","PWF-04","Assign / Change Job Owner","-","GREEN","User transfers job ownership","None","app/dashboard/jobs/[id]/page.tsx","Click owner field, select new owner","None"
"WF-04d","PWF-04","Set / Manage Job Deadlines","-","GREEN","User sets or updates job due dates","None","app/dashboard/jobs/[id]/page.tsx","Click deadline field, select date","None"
"WF-04e","PWF-04","Manage Job Attachments","-","YELLOW","User uploads/manages files attached to job","API exists but not wired to UI; May overlap with evidence collection","API: GET/POST /api/task-instances/[id]/attachments","Navigate to job detail (no attachments UI visible)","Wire to job detail attachments section"
"WF-04f","PWF-04","Manage Job Notes","-","GREEN","User adds internal notes to a job","None","app/dashboard/jobs/[id]/page.tsx","Edit notes field, save","None"
"WF-04g","PWF-04","Job Activity & Comments","-","GREEN","User views activity log and adds comments","None","app/dashboard/jobs/[id]/page.tsx:477,499,755","View activity timeline, add comment","None"
"WF-04h","PWF-04","Job Status & Lifecycle","-","GREEN","User changes job status","None","app/dashboard/jobs/[id]/page.tsx","Click status dropdown, select new status","None"
"WF-05a","PWF-05","Send Standard Request","WF-07","GREEN","User sends request emails to existing job stakeholders with AI-drafted content","None","components/jobs/send-request-modal.tsx:797-813,852-863 (Standard Request mode), app/api/task-instances/[id]/request/draft/route.ts","Open Send Request modal, select Standard Request (requires stakeholders), AI drafts email, send","None"
"WF-05b","PWF-05","Send Data Personalization Request","-","GREEN","User uploads CSV/Excel with recipients, creates personalized emails with merge fields","None","components/jobs/send-request-modal.tsx:815-830 (Data Personalization mode), components/jobs/data-personalization/upload-step.tsx, components/jobs/data-personalization/compose-send-step.tsx, app/api/task-instances/[id]/request/dataset/*","Open Send Request modal, select Data Personalization, upload CSV/Excel, map columns, compose with merge fields {{Name}}, preview, send","None"
"WF-05c","PWF-05","Configure Request Reminders","WF-07","GREEN","User sets up automatic reminder schedules","None","components/jobs/send-request-modal.tsx","Enable reminders toggle, configure frequency","None"
"WF-05d","PWF-05","Cancel / Resend Requests","-","YELLOW","User cancels pending or resends failed requests","No UI for resending failed requests","components/jobs/request-card-expandable.tsx:229","Click Cancel on reminders","Add resend UI"
"WF-05e","PWF-05","Track Request Status","WF-08","GREEN","User monitors response status and risk levels","None","app/dashboard/requests/page.tsx:148,331,385, components/jobs/request-card-expandable.tsx:214,229","Navigate to /dashboard/requests, view list, expand request","None"
"WF-05f","PWF-05","Manually Override Request Risk","-","YELLOW","User manually adjusts risk classification","API exists but not wired to UI","API: PUT /api/requests/detail/[id]/risk","Navigate to request detail (no risk override UI visible)","Wire to risk badge click"
"WF-05g","PWF-05","Mark Request Read / Unread","-","YELLOW","User marks requests as read/unread","API exists but not wired to UI","API: POST /api/requests/detail/[id]/mark-read","Navigate to request list (no mark-read UI visible)","Wire to request row click"
"WF-05h","PWF-05","Reply Review","WF-14","GREEN","User reviews replies with AI assistance","None","components/reply-review/reply-review-layout.tsx:87, components/reply-review/right-pane/ai-summary-section.tsx:38","Navigate to /dashboard/review/[messageId], analyze, draft reply","None"
"WF-05i","PWF-05","AI Auto-Draft Request Email","-","GREEN","AI generates initial email draft from job context","None","lib/services/ai-email-generation.service.ts (usedAI/fallbackReason flags added)","Open Send Request modal - AI generates draft with usedAI indicator","None"
"WF-05j","PWF-05","AI Auto-Draft Reminder Email","-","GREEN","AI generates varied reminder emails based on reminder number","None","lib/services/ai-email-generation.service.ts, app/api/requests/detail/[id]/reminder-draft/route.ts","Click Preview in reminders column - AI generates varied reminder content","None"
"WF-05k","PWF-05","AI Auto-Draft Reply","-","GREEN","AI generates reply draft based on inbound message context","None","lib/services/ai-email-generation.service.ts, app/api/review/draft-reply/route.ts","Navigate to review page, click Draft Reply - AI generates contextual response","None"
"WF-05l","PWF-05","AI Analyze Inbound Email","-","GREEN","AI analyzes reply body text AND attachment content for intent, findings, urgency","None","app/api/review/analyze/route.ts, lib/services/attachment-extraction.service.ts","Navigate to review page, click Analyze - AI analyzes email + extracted attachment content","None"
"WF-05m","PWF-05","AI Extract Attachment Content","-","GREEN","AI extracts text from PDF/Excel/CSV for analysis","None","lib/services/attachment-extraction.service.ts, inngest/functions/index.ts (classify-message)","Inngest extracts content via pdfjs-dist/xlsx, content passed to AI","None"
"WF-05n","PWF-05","AI Determine Completion Status","-","GREEN","AI determines if submission is complete based on attachment content","None","lib/services/completion-detection.service.ts, inngest/functions/index.ts","CompletionDetectionService analyzes attachment content, updates completionPercentage","None"
"WF-06a","PWF-06","Upload Evidence","WF-13","GREEN","User manually uploads evidence files","None","components/jobs/collection/collection-upload-modal.tsx:96","Click Collection tab, click Upload, select file","None"
"WF-06b","PWF-06","Review / Approve Evidence","WF-13","GREEN","User reviews and approves collected evidence","None","components/jobs/collection/collection-tab.tsx:189","Click evidence item, preview, approve/reject","None"
"WF-06c","PWF-06","Bulk Evidence Actions","WF-13","GREEN","User performs bulk approve/reject/delete","None","components/jobs/collection/collection-tab.tsx:168","Select multiple items, click bulk action","None"
"WF-06d","PWF-06","Export Evidence","WF-13","GREEN","User exports all collected evidence","None","components/jobs/collection/collection-tab.tsx:324","Click Export All button","None"
"WF-06e","PWF-06","AI Analyze Evidence Content","-","GREEN","AI extracts and analyzes content from evidence files (PDF/Excel)","None","lib/services/attachment-extraction.service.ts, app/api/review/analyze/route.ts","Evidence content extracted via attachment-extraction.service.ts, analyzed by classify-message Inngest","None"
"WF-07a","PWF-07","Create / Edit Contact","WF-15","GREEN","User creates or updates contact information","None","app/dashboard/contacts/page.tsx:59, components/contacts/contact-list.tsx:72","Navigate to /dashboard/contacts, add/edit contact","None"
"WF-07b","PWF-07","Import Contacts","WF-15","GREEN","User bulk imports contacts from CSV","None","components/contacts/import-modal.tsx:124","Click Import, upload CSV, map columns, confirm","None"
"WF-07c","PWF-07","Group Contacts","WF-15","GREEN","User organizes contacts into groups","None","app/dashboard/contacts/page.tsx:74","Click Groups tab, create group, add contacts","None"
"WF-07d","PWF-07","Manage Contact Types / Labels","-","GREEN","User defines and manages contact classifications","None","app/dashboard/contacts/page.tsx","View/edit contact types","None"
"WF-07e","PWF-07","Link Contacts to Jobs","-","GREEN","User associates contacts with specific jobs","None","app/dashboard/jobs/[id]/page.tsx","Add stakeholder from contacts","None"
"WF-07f","PWF-07","Search / Select Contacts for Requests","-","GREEN","User searches and selects recipients","None","components/jobs/send-request-modal.tsx:393","Type in recipient search box, select from suggestions","None"
"WF-08a","PWF-08","Connect Email Account - Gmail","WF-20","GREEN","User connects Gmail via OAuth","None","app/dashboard/settings/team/page.tsx:191-198","Click Connect Gmail, complete OAuth flow","None"
"WF-08b","PWF-08","Connect Email Account - Microsoft","WF-20","GREEN","User connects Microsoft 365 via OAuth","None","app/dashboard/settings/team/page.tsx:191-198","Click Connect Microsoft, complete OAuth flow","None"
"WF-08c","PWF-08","Manage Email Senders","-","GREEN","User configures which accounts can send","None","app/dashboard/settings/team/page.tsx","View connected accounts, toggle active/inactive","None"
"WF-09a","PWF-09","Email Sync - Gmail/Microsoft","WF-16","GREEN","Background sync fetches new emails from connected accounts","None","inngest/functions/index.ts:459-518","Wait for Inngest cron, check logs for sync entries","None"
"WF-09b","PWF-09","Message Classification","WF-17","GREEN","Inbound messages are classified and request completion assessed","None","inngest/functions/index.ts:28-328","Receive reply, check aiClassification field","None"
"WF-09c","PWF-09","Reminder Sending","WF-18","GREEN","Due reminders are sent automatically for non-responsive requests","None","inngest/functions/index.ts:520-542","Send request with reminders, wait for reminder delay","None"
"WF-09d","PWF-09","Email Queue Processing","WF-19","GREEN","Rate-limited emails are queued and sent when limits allow","None","inngest/functions/index.ts:627-714","Send multiple emails, verify queuing and processing","None"
"WF-09e","PWF-09","AI Content-Based Risk Scoring","-","GREEN","AI computes risk based on submission content (not just time)","None","lib/services/risk-computation.service.ts (attachmentContent + expectedDocumentType params added)","Send request, receive reply - risk computed from document content (wrong doc type, expired, incomplete)","None"
"WF-09f","PWF-09","AI First-Pass Document Review","-","GREEN","AI reviews all inbound content (email + attachments) before human","None","inngest/functions/index.ts (classify-message extended), lib/services/attachment-extraction.service.ts, lib/services/completion-detection.service.ts","On email receive, Inngest extracts attachments, runs AI analysis, detects completion, updates request","None"
