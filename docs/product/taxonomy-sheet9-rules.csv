"Rule ID","Rule Name","Description","Applies To","Enforcement","Example"
"R-01","Parent ID Format","Parent workflow IDs use PWF-XX format","Parent Workflows","Manual review","PWF-01, PWF-02, PWF-09"
"R-02","Sub-Workflow ID Format","Sub-workflow IDs use WF-XXy format where XX = parent number, y = letter suffix","Sub-Workflows","Manual review","WF-01a, WF-03b, WF-09d"
"R-03","User Intent Ownership","User-initiated intent defines workflow ownership; system processes are implementation details","All Workflows","Design principle","Send Email Request owns email sending, not email-sending.service.ts"
"R-04","One JTBD Per Sub-Workflow","Each sub-workflow represents a single job-to-be-done","Sub-Workflows","Design review","WF-05a = Send Email Request, not Send Email Request + Track Responses"
"R-05","Route Multi-Mapping","A single API route may map to multiple sub-workflows","Routes","CSV tracking","POST /api/task-instances maps to WF-03a, WF-03b, WF-03c"
"R-06","User Goal Required","Every sub-workflow must have a defined user goal","Sub-Workflows","Taxonomy validation","Goal: User sends request emails to contacts"
"R-07","UI Surface Required","Every user-initiated sub-workflow must have a UI entry point","User Sub-Workflows","Taxonomy validation","Entry: /dashboard/jobs/[id]"
"R-08","System Trigger Required","Every system automation sub-workflow must have a defined trigger","System Sub-Workflows","Taxonomy validation","Trigger: Inngest cron every 5 minutes"
"R-09","Route Mapping Required","Every API route must map to at least one sub-workflow OR be System Automation","Routes","Orphan report","Routes without mapping appear in orphan report"
"R-10","Legacy ID Preservation","When remapping workflows, preserve legacy ID in mapping table","ID Changes","CSV tracking","WF-04 -> WF-02a, WF-02b, WF-02g, WF-02h"
"R-11","Evidence Required","All workflow-to-code mappings must cite file:line evidence","Documentation","Manual review","components/jobs/send-request-modal.tsx:393"
"R-12","Status Classification","Workflows are GREEN (fully functional), YELLOW (working with limitations), or RED (broken)","All Workflows","Audit review","YELLOW: API exists but not wired to UI"
"R-13","Orphan Categories","Orphans are MissingWiring, FeatureFlagged, Verify, TrueOrphan, SystemDependency, or InternalOnly","Orphan Report","CSV categorization","MissingWiring: Valid API without frontend caller"
"R-14","Priority Assignment","All orphan items have priority P1-P3","Orphan Report","CSV assignment","P1: High impact, P2: Medium, P3: Low/verify"
"R-15","No Dangling IDs","All workflow IDs referenced in docs must exist in taxonomy","Documentation","rg 'WF-' validation","No WF-99 if not defined in taxonomy"
"R-16","Sub-Workflow Limit","Each parent can have up to 26 sub-workflows (a-z)","Parent Workflows","Design constraint","PWF-01 has WF-01a through WF-01d (4 sub-workflows)"
"R-17","Job Capability Classification","Sub-workflows must specify Job Capability: Core, Table, Reconciliation, Request, Evidence, or N/A","Sub-Workflows","Taxonomy validation","WF-03d has Job Capability: Table"
"R-18","No New Job Types","Do NOT introduce new Job types. Extend functionality via capabilities only.","Development","Code review","WRONG: ReconciliationJob. RIGHT: Job + Reconciliation capability"
"R-19","Job Container Frozen","Job, Board, TaskInstance, Organization names are frozen. No renames allowed.","Schema/Services","CI check","Any rename of these models fails review"
"R-20","Capability Independence","Capabilities may evolve independently. One capability refactor must not affect others.","Development","Design review","Table capability refactor cannot break Request capability"
"R-21","Approval Out of Scope","Approval workflows are NOT part of this taxonomy. Will be layered separately.","All","Code review","Any approval-related workflow changes are rejected"
"R-22","Target Capabilities Not Jobs","Refactors must target a specific capability, not the Job container itself.","Development","PR review","PR title: 'Refactor Table capability' not 'Refactor Jobs'"
