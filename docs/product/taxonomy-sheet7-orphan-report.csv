"Item Type","Name","File Path","Expected Sub-Workflow","Actual Mapping","Status","Orphan Category","Workflow Impact","Recommended Action","Verification Command","Priority","Owner","Notes"
"","","","","","","","","","","","",""
"","=== AI CORE GAPS (P0) ===","","","","","","","","","","",""
"","","","","","","","","","","","",""
"Service","attachment-extraction.service.ts","(MISSING)","WF-05m, WF-06e","None","RED","MissingService","CRITICAL","Create service to extract text from PDF/Excel/CSV/Images","N/A - file does not exist","P0","Eng","BLOCKER: AI cannot analyze submission content without this"
"Service","first-pass-review.service.ts","(MISSING)","WF-09f","None","RED","MissingService","CRITICAL","Create Inngest function to AI-review all inbound content before human","N/A - file does not exist","P0","Eng","BLOCKER: AI should be first reviewer of all inbound"
"Service","completion-detection.service.ts","(MISSING)","WF-05n","None","RED","MissingService","CRITICAL","Create service to determine if submission is complete based on content","N/A - file does not exist","P0","Eng","BLOCKER: Cannot auto-detect request completion"
"Service","reconciliation-processor.service.ts","(MISSING)","WF-03h","None","RED","MissingService","CRITICAL","Create service to compare Excel files and generate variance report","N/A - file does not exist","P0","Eng","BLOCKER: Reconciliation jobs do nothing after upload"
"Route","/api/task-instances/[id]/reconciliations/process","(MISSING)","WF-03h","None","RED","MissingRoute","CRITICAL","Create route to trigger reconciliation processing","N/A - file does not exist","P0","Eng","BLOCKER: No way to process uploaded reconciliation files"
"Route","/api/boards/[id]/ai-summary","(MISSING)","WF-02i","None","RED","MissingRoute","Improve UX","Create route to generate AI board summary","N/A - file does not exist","P1","Eng","Missing feature: Board-level AI summary"
"","","","","","","","","","","","",""
"","=== AI PARTIAL/BROKEN (P1) ===","","","","","","","","","","",""
"","","","","","","","","","","","",""
"Service","ai-email-generation.service.ts","lib/services/ai-email-generation.service.ts","WF-05i, WF-05j, WF-05k","WF-05i","YELLOW","EnvIssue","Degraded","Verify OPENAI_API_KEY is set in deployment","rg 'OPENAI_API_KEY' -n lib","P1","Eng","Falls back to template when API key missing or API fails"
"Service","ai-classification.service.ts","lib/services/ai-classification.service.ts","WF-05l, WF-09b","WF-09b","YELLOW","PartialImpl","Degraded","Extend to analyze attachment content (not just email body)","rg 'ai-classification' -n lib app","P1","Eng","Only classifies email body text, not attachments"
"Service","risk-computation.service.ts","lib/services/risk-computation.service.ts","WF-05f, WF-09e","WF-05f","YELLOW","PartialImpl","Degraded","Add content-based risk factors (not just time-based)","rg 'risk-computation' -n lib app","P1","Eng","Risk based on time since sent, not submission quality"
"Route","/api/review/analyze","app/api/review/analyze/route.ts","WF-05l","WF-05l","YELLOW","PartialImpl","Degraded","Extend to include attachment content in analysis","rg '/api/review/analyze' -n app components","P1","Eng","Lists attachment metadata but never reads content"
"Route","/api/task-instances/[id]/request/draft","app/api/task-instances/[id]/request/draft/route.ts","WF-05i","WF-05i","YELLOW","EnvIssue","Degraded","Uses fallback when AI unavailable - check OPENAI_API_KEY","rg '/request/draft' -n app components","P1","Eng","Shows 'Using template draft' when AI fails"
"Route","/api/review/draft-reply","app/api/review/draft-reply/route.ts","WF-05k","WF-05k","YELLOW","EnvIssue","Degraded","Verify AI is working for reply drafts","rg '/draft-reply' -n app components","P1","Eng","May fall back to template if AI fails"
"","","","","","","","","","","","",""
"","=== EXISTING ORPHANS (P2-P3) ===","","","","","","","","","","",""
"","","","","","","","","","","","",""
"Route","/api/requests/detail/[id]/mark-read","app/api/requests/detail/[id]/mark-read/route.ts","WF-05g","WF-05g","WIRED","Wired","Done","Wired 2026-01-21","rg 'mark-read' -n app components","Done","Eng","Wired to request-card-expandable.tsx - marks read on expand"
"Route","/api/requests/detail/[id]/risk","app/api/requests/detail/[id]/risk/route.ts","WF-05f","WF-05f","WIRED","Wired","Done","Wired 2026-01-21","rg '/api/requests/detail/.*/risk' -n app components","Done","Eng","Wired to request-card-expandable.tsx - RiskDropdown component"
"Route","/api/task-instances/[id]/attachments","app/api/task-instances/[id]/attachments/route.ts","WF-04e","None","ORPHAN","MissingWiring","Improve UX","Wire to job detail attachments section","rg '/api/task-instances/.*/attachments' -n app components","P2","Eng","May overlap with evidence collection"
"Route","/api/requests/detail/[id]/reminder-draft","app/api/requests/detail/[id]/reminder-draft/route.ts","WF-05c","WF-05c","WIRED","Wired","Done","Wired 2026-01-21","rg 'reminder-draft' -n app components","Done","Eng","Wired to request-card-expandable.tsx - Preview button in reminders column"
"Route","/api/task-instances/[id]/labels/[labelId]","app/api/task-instances/[id]/labels/[labelId]/route.ts","WF-05a","None","ORPHAN","MissingWiring","Improve UX","Wire to label edit/delete UI","rg '/labels/[^r]' -n app components","P2","Eng","Labels can be created but not edited/deleted"
"Route","/api/task-instances/[id]/request/dataset/preview","app/api/task-instances/[id]/request/dataset/preview/route.ts","WF-05b","None","ORPHAN","MissingWiring","Improve UX","Wire to dataset preview step","rg '/dataset/preview' -n app components","P2","Eng","API exists but no frontend caller"
"Route","/api/task-lineages/[id]","app/api/task-lineages/[id]/route.ts","WF-03b","None","ORPHAN","MissingWiring","Restore","Wire to lineage settings","rg '/api/task-lineages/[^s]' -n app components","P3","Eng","Only /schema is wired, not base route"
"Route","/api/quests/[id]","app/api/quests/[id]/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/[^e]' -n app components","P3","Product","Flag: NEXT_PUBLIC_QUEST_UI"
"Route","/api/quests/[id]/generate","app/api/quests/[id]/generate/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/.*/generate' -n app components","P3","Product","Flag: NEXT_PUBLIC_QUEST_UI"
"Route","/api/quests/context","app/api/quests/context/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/context' -n app components","P3","Product","Flag: QUEST_AI_INTERPRETER"
"Route","/api/quests/interpret","app/api/quests/interpret/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/interpret' -n app components","P3","Product","Flag: QUEST_AI_INTERPRETER"
"Route","/api/quests/standing","app/api/quests/standing/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/standing' -n app components","P3","Product","Flag: QUEST_STANDING"
"Route","/api/attachments/[id]","app/api/attachments/[id]/route.ts","TBD","None","ORPHAN","Verify","Verify","Verify if URL-generated or truly orphan","rg '/api/attachments/' -n app components lib","P3","Eng","May be URL-generated for download links"
"Route","/api/attachments/download/[id]","app/api/attachments/download/[id]/route.ts","TBD","None","ORPHAN","Verify","Verify","Verify if URL-generated or truly orphan","rg '/api/attachments/download' -n app components lib","P3","Eng","May be URL-generated for download links"
"Route","/api/contacts/sync","app/api/contacts/sync/route.ts","WF-07a","None","ORPHAN","Verify","Verify","Verify purpose or remove","rg '/api/contacts/sync' -n app components lib","P3","Eng","Unclear purpose"
"Route","/api/requests/detail","app/api/requests/detail/route.ts","WF-05e","None","ORPHAN","Verify","Cleanup","Investigate purpose or delete","rg '/api/requests/detail[^/]' -n app components","P3","Eng","Possible duplicate of /api/requests/detail/[id]"
"Route","/api/attachments/delete/[id]","(deleted)","None","None","DELETED","TrueOrphan","Cleanup","Deleted 2026-01-21","None","Done","Eng","Confirmed duplicate - DELETE exists on /api/attachments/[id]"
"Route","/api/internal/ai-metrics/agreement","app/api/internal/ai-metrics/agreement/route.ts","None","None","ORPHAN","InternalOnly","None","Keep for admin use only","None","P3","Eng","Admin/internal metrics only"
"Service","campaign.service.ts","lib/services/campaign.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","collection.service.ts","lib/services/collection.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","contact-state.service.ts","lib/services/contact-state.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","email-account.service.ts","lib/services/email-account.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","job-label.service.ts","lib/services/job-label.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","job.service.ts","lib/services/job.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","task-creation.service.ts","lib/services/task-creation.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","gmail-watch.service.ts","lib/services/gmail-watch.service.ts","WF-08a","WF-08a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by OAuth callback","rg 'gmail-watch' -n app lib","P3","Eng","Dynamic import in OAuth callback"
"Service","token-refresh.service.ts","lib/services/token-refresh.service.ts","WF-09a","WF-09a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by email sending","rg 'token-refresh' -n lib","P3","Eng","Used by email-sending.service.ts"
"Service","tracking-pixel.service.ts","lib/services/tracking-pixel.service.ts","WF-05a","WF-05a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by email sending","rg 'tracking-pixel' -n lib","P3","Eng","Used by email-sending.service.ts"
"Service","thread-id-extractor.ts","lib/services/thread-id-extractor.ts","WF-09a","WF-09a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by email reception","rg 'thread-id-extractor' -n lib","P3","Eng","Used by email-reception.service.ts"
"Service","local-storage.service.ts","lib/services/local-storage.service.ts","WF-06a","WF-06a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - storage fallback","rg 'local-storage' -n lib","P3","Eng","Used by storage.service.ts"
"Service","request-creation.service.ts","lib/services/request-creation.service.ts","WF-05a","WF-05a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - internal to email sending","rg 'request-creation' -n lib","P3","Eng","Used by email-sending.service.ts"
