"Item Type","Name","File Path","Expected Sub-Workflow","Actual Mapping","Status","Orphan Category","Workflow Impact","Recommended Action","Verification Command","Priority","Owner","Notes"
"","","","","","","","","","","","",""
"","=== AI CORE SERVICES (IMPLEMENTED) ===","","","","","","","","","","",""
"","","","","","","","","","","","",""
"Service","attachment-extraction.service.ts","lib/services/attachment-extraction.service.ts","WF-05m, WF-06e","WF-05m, WF-06e","GREEN","Implemented","Done","Implemented 2026-01-21","rg 'attachment-extraction' -n lib","Done","Eng","Extracts text from PDF/Excel/CSV files"
"Service","completion-detection.service.ts","lib/services/completion-detection.service.ts","WF-05n","WF-05n","GREEN","Implemented","Done","Implemented 2026-01-21","rg 'completion-detection' -n lib","Done","Eng","AI determines if submission is complete"
"Service","reconciliation-processor.service.ts","lib/services/reconciliation-processor.service.ts","WF-03h","WF-03h","GREEN","Implemented","Done","Implemented 2026-01-21","rg 'reconciliation-processor' -n lib","Done","Eng","Compares Excel files and generates variance report"
"Service","board-summary.service.ts","lib/services/board-summary.service.ts","WF-02i","WF-02i","GREEN","Implemented","Done","Implemented 2026-01-21","rg 'board-summary' -n lib","Done","Eng","AI generates board status summary"
"Route","/api/task-instances/[id]/reconciliations/process","app/api/task-instances/[id]/reconciliations/process/route.ts","WF-03h","WF-03h","GREEN","Implemented","Done","Implemented 2026-01-21","rg 'reconciliations/process' -n app","Done","Eng","Triggers reconciliation processing"
"Route","/api/boards/[id]/ai-summary","app/api/boards/[id]/ai-summary/route.ts","WF-02i","WF-02i","GREEN","Implemented","Done","Implemented 2026-01-21","rg 'ai-summary' -n app","Done","Eng","Returns AI board summary"
"","","","","","","","","","","","",""
"","=== AI SERVICES EXTENDED ===","","","","","","","","","","",""
"","","","","","","","","","","","",""
"Service","ai-email-generation.service.ts","lib/services/ai-email-generation.service.ts","WF-05i, WF-05j, WF-05k","WF-05i, WF-05j, WF-05k","GREEN","Extended","Done","Extended 2026-01-21 - added usedAI/fallbackReason flags","rg 'ai-email-generation' -n lib","Done","Eng","Now indicates when AI vs template is used"
"Service","ai-classification.service.ts","lib/services/ai-classification.service.ts","WF-05l, WF-09b","WF-05l, WF-09b","GREEN","Extended","Done","Extended via classify-message Inngest","rg 'ai-classification' -n lib app","Done","Eng","Now receives attachment content from Inngest"
"Service","risk-computation.service.ts","lib/services/risk-computation.service.ts","WF-05f, WF-09e","WF-05f, WF-09e","GREEN","Extended","Done","Extended 2026-01-21 - added content-based risk factors","rg 'risk-computation' -n lib app","Done","Eng","Now includes attachmentContent and expectedDocumentType"
"Route","/api/review/analyze","app/api/review/analyze/route.ts","WF-05l","WF-05l","GREEN","Extended","Done","Extended 2026-01-21 - extracts attachment content","rg '/api/review/analyze' -n app components","Done","Eng","Now includes extracted attachment content in AI prompt"
"","","","","","","","","","","","",""
"","=== AI SERVICES (ALL GREEN) ===","","","","","","","","","","",""
"","","","","","","","","","","","",""
"","All P0/P1 AI blockers have been resolved. Services now extract attachment content and include it in AI analysis.","","","","","","","","","","",""
"","","","","","","","","","","","",""
"","=== EXISTING ORPHANS (P2-P3) ===","","","","","","","","","","",""
"","","","","","","","","","","","",""
"Route","/api/requests/detail/[id]/mark-read","app/api/requests/detail/[id]/mark-read/route.ts","WF-05g","WF-05g","WIRED","Wired","Done","Wired 2026-01-21","rg 'mark-read' -n app components","Done","Eng","Wired to request-card-expandable.tsx - marks read on expand"
"Route","/api/requests/detail/[id]/risk","app/api/requests/detail/[id]/risk/route.ts","WF-05f","WF-05f","WIRED","Wired","Done","Wired 2026-01-21","rg '/api/requests/detail/.*/risk' -n app components","Done","Eng","Wired to request-card-expandable.tsx - RiskDropdown component"
"Route","/api/task-instances/[id]/attachments","app/api/task-instances/[id]/attachments/route.ts","WF-04e","None","ORPHAN","MissingWiring","Improve UX","Wire to job detail attachments section","rg '/api/task-instances/.*/attachments' -n app components","P2","Eng","May overlap with evidence collection"
"Route","/api/requests/detail/[id]/reminder-draft","app/api/requests/detail/[id]/reminder-draft/route.ts","WF-05c","WF-05c","WIRED","Wired","Done","Wired 2026-01-21","rg 'reminder-draft' -n app components","Done","Eng","Wired to request-card-expandable.tsx - Preview button in reminders column"
"Route","/api/task-instances/[id]/labels/[labelId]","app/api/task-instances/[id]/labels/[labelId]/route.ts","WF-05a","None","ORPHAN","MissingWiring","Improve UX","Wire to label edit/delete UI","rg '/labels/[^r]' -n app components","P2","Eng","Labels can be created but not edited/deleted"
"Route","/api/task-instances/[id]/request/dataset/preview","app/api/task-instances/[id]/request/dataset/preview/route.ts","WF-05b","None","ORPHAN","MissingWiring","Improve UX","Wire to dataset preview step","rg '/dataset/preview' -n app components","P2","Eng","API exists but no frontend caller"
"Route","/api/task-lineages/[id]","app/api/task-lineages/[id]/route.ts","WF-03b","None","ORPHAN","MissingWiring","Restore","Wire to lineage settings","rg '/api/task-lineages/[^s]' -n app components","P3","Eng","Only /schema is wired, not base route"
"Route","/api/quests/[id]","app/api/quests/[id]/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/[^e]' -n app components","P3","Product","Flag: NEXT_PUBLIC_QUEST_UI"
"Route","/api/quests/[id]/generate","app/api/quests/[id]/generate/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/.*/generate' -n app components","P3","Product","Flag: NEXT_PUBLIC_QUEST_UI"
"Route","/api/quests/context","app/api/quests/context/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/context' -n app components","P3","Product","Flag: QUEST_AI_INTERPRETER"
"Route","/api/quests/interpret","app/api/quests/interpret/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/interpret' -n app components","P3","Product","Flag: QUEST_AI_INTERPRETER"
"Route","/api/quests/standing","app/api/quests/standing/route.ts","WF-05a","None","ORPHAN","FeatureFlagged","Verify","Enable feature flag when ready","rg '/api/quests/standing' -n app components","P3","Product","Flag: QUEST_STANDING"
"Route","/api/attachments/[id]","app/api/attachments/[id]/route.ts","TBD","None","ORPHAN","Verify","Verify","Verify if URL-generated or truly orphan","rg '/api/attachments/' -n app components lib","P3","Eng","May be URL-generated for download links"
"Route","/api/attachments/download/[id]","app/api/attachments/download/[id]/route.ts","TBD","None","ORPHAN","Verify","Verify","Verify if URL-generated or truly orphan","rg '/api/attachments/download' -n app components lib","P3","Eng","May be URL-generated for download links"
"Route","/api/contacts/sync","app/api/contacts/sync/route.ts","WF-07a","None","ORPHAN","Verify","Verify","Verify purpose or remove","rg '/api/contacts/sync' -n app components lib","P3","Eng","Unclear purpose"
"Route","/api/requests/detail","app/api/requests/detail/route.ts","WF-05e","None","ORPHAN","Verify","Cleanup","Investigate purpose or delete","rg '/api/requests/detail[^/]' -n app components","P3","Eng","Possible duplicate of /api/requests/detail/[id]"
"Route","/api/attachments/delete/[id]","(deleted)","None","None","DELETED","TrueOrphan","Cleanup","Deleted 2026-01-21","None","Done","Eng","Confirmed duplicate - DELETE exists on /api/attachments/[id]"
"Route","/api/internal/ai-metrics/agreement","app/api/internal/ai-metrics/agreement/route.ts","None","None","ORPHAN","InternalOnly","None","Keep for admin use only","None","P3","Eng","Admin/internal metrics only"
"Service","campaign.service.ts","lib/services/campaign.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","collection.service.ts","lib/services/collection.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","contact-state.service.ts","lib/services/contact-state.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","email-account.service.ts","lib/services/email-account.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","job-label.service.ts","lib/services/job-label.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","job.service.ts","lib/services/job.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","task-creation.service.ts","lib/services/task-creation.service.ts","None","None","DELETED","TrueOrphan","Cleanup","Already deleted","None","Done","Eng","File deleted in git status"
"Service","gmail-watch.service.ts","lib/services/gmail-watch.service.ts","WF-08a","WF-08a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by OAuth callback","rg 'gmail-watch' -n app lib","P3","Eng","Dynamic import in OAuth callback"
"Service","token-refresh.service.ts","lib/services/token-refresh.service.ts","WF-09a","WF-09a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by email sending","rg 'token-refresh' -n lib","P3","Eng","Used by email-sending.service.ts"
"Service","tracking-pixel.service.ts","lib/services/tracking-pixel.service.ts","WF-05a","WF-05a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by email sending","rg 'tracking-pixel' -n lib","P3","Eng","Used by email-sending.service.ts"
"Service","thread-id-extractor.ts","lib/services/thread-id-extractor.ts","WF-09a","WF-09a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - used by email reception","rg 'thread-id-extractor' -n lib","P3","Eng","Used by email-reception.service.ts"
"Service","local-storage.service.ts","lib/services/local-storage.service.ts","WF-06a","WF-06a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - storage fallback","rg 'local-storage' -n lib","P3","Eng","Used by storage.service.ts"
"Service","request-creation.service.ts","lib/services/request-creation.service.ts","WF-05a","WF-05a","SYSTEM_DEPENDENCY","SystemDependency","None","Keep - internal to email sending","rg 'request-creation' -n lib","P3","Eng","Used by email-sending.service.ts"
